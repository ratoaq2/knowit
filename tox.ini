[tox]
envlist = py{27,33,34,35,36,37,38,39}-{native}, lint

[testenv]
commands =
    python --version

[testenv:py{27,33,34,35,36,37,38,39}-{native}]
deps =
    mock ; python_version < "3.3"
    pytest >= 4.3.0
    pytest-cov
    requests >= 2.21.0
commands =
    pytest tests --cov-report term --cov-report html --cov knowit --verbose {posargs}

[testenv:lint]
basepython =
    python3
deps =
    flake8
    flake8-docstrings
    flake8-import-order
    pep8-naming
    pydocstyle
commands =
    flake8 knowit

[testenv:type-check]
basepython =
    python3
deps =
    mypy
commands =
    mypy knowit
